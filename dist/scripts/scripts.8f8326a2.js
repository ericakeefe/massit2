"use strict";angular.module("eeaDoerApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","times.tabletop","angular.filter","ngLodash","angular-toArrayFilter","checklist-model"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/glossary",{templateUrl:"views/glossary.html",controller:"GlosCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"CtctCtrl"}).when("/FAQs",{templateUrl:"views/faq.html",controller:"FaqCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("eeaDoerApp").controller("MainCtrl",["$scope","Tabletop","$window","$timeout","$q","lodash","$anchorScroll","$location",function(a,b,c,d,e,f,g,h){function i(){var b=[];if(void 0!=a.searchIncentives.incentiveProgram&&void 0!=a.searchIncentives.incentiveCategory)for(var d=c.incentiveData,e=0;e<d.length;e++)d[e].incentiveCategory==a.searchIncentives.incentiveCategory&&d[e].incentiveProgram==a.searchIncentives.incentiveProgram&&b.push(d[e]);else if(void 0==a.searchIncentives.incentiveProgram&&void 0!=a.searchIncentives.incentiveCategory)for(var d=c.incentiveData,e=0;e<d.length;e++)d[e].incentiveCategory==a.searchIncentives.incentiveCategory&&b.push(d[e]);else if(void 0!=a.searchIncentives.incentiveProgram&&void 0==a.searchIncentives.incentiveCategory)for(var d=c.incentiveData,e=0;e<d.length;e++)d[e].incentiveProgram==a.searchIncentives.incentiveProgram&&b.push(d[e]);a.tableData3=b}function j(){for(var b=c.incentiveData,d=0;d<b.length;d++){for(var e=c.p_utility[d],f=e.split(","),g=0;g<f.length;g++){var h=f[g].trim();new_comp.push(h)}var i=[c.utilityArray,c.new_comp],j=i.shift().filter(function(a){return i.every(function(b){return-1!==b.indexOf(a)})});j.length>0&&c.extracted_info.push(b[d]),new_comp=[]}utilityArray=[],a.tableData3="",a.tableData3=[],a.tableData3=extracted_info}function k(){var a=e.defer();return d(function(){c.incentiveData?a.resolve({iData:c.incentiveData,zdata:c.zipcodeData}):a.reject({data:"Internal error"})},2e3),a.promise}var l=c.matchMedia("(min-height: 759px) and (max-height: 1200px )");l.matches?$("#footer").css("position","fixed"):$("#footer").css("position","relative"),a.searchHoverIn=function(){$("#searchdata").show()},a.searchHoverOut=function(){$("#searchdata").hide()},a.learnHoverIn=function(){$("#learndata").show()},a.learnHoverOut=function(){$("#learndata").hide()},a.applyHoverIn=function(){$("#applydata").show()},a.applyHoverOut=function(){$("#applydata").hide()},h.hash("home"),g(),a.sortType="programName",a.sortReverse=!1,a.searchIncentives="",a.showMe=function(){h.hash("home"),g(),$("#footer").css("position","relative"),a.show=!0,i()};k().then(function(b){console.log(zipcodeData),a.tableData=b.iData,console.log(a.tableData),a.tableData2=b.zdata,console.log(a.tableData2)}),a.clearFilters=function(){a.searchIncentives="",a.tableData3="",a.modalDialog=""},a.zipSearch=function(){if(h.hash("home"),g(),$("#footer").css("position","relative"),""==a.searchIncentives.ZIPCODE)i();else{a.sortType="programName",a.sortReverse=!1,c.utilityArray=[],c.new_comp=[],c.extracted_info=[],a.show=!0,h.hash("home"),g();var b=a.searchIncentives.ZIPCODE;console.log(b);var d=f.where(c.zipcodeData,{ZIPCODE:b});if(1==d.length){utilityArray.push(d[0]["Electric Utility 1"]),utilityArray.push(d[0]["Gas Utility 2"]),utilityArray.push(d[0]["Electric Utility 2"]),utilityArray.push(d[0].GasUtility1),utilityArray.push(d[0].Napplicable);for(var e=0;e<utilityArray.length;e++)("Eversource - NSTAR"==utilityArray[e]||"Eversource - WMECO"==utilityArray[e])&&utilityArray.push("Eversource"),"Training and Certifications"==utilityArray[e]&&utilityArray.push("Commercial");utilityArray=f.without(utilityArray,""),c.p_utility=f.pluck(c.incentiveData,"participatingUtility"),j()}else if(2==d.length){$("#myModal").modal("show");for(var k=0;k<d.length;k++)utilityArray.push(d[k]["Electric Utility 1"]),utilityArray.push(d[k]["Gas Utility 2"]),utilityArray.push(d[k]["Electric Utility 2"]),utilityArray.push(d[k].GasUtility1),utilityArray.push(d[k].Napplicable);for(var e=0;e<utilityArray.length;e++)("Eversource - NSTAR"==utilityArray[e]||"Eversource - WMECO"==utilityArray[e])&&(utilityArray[e]="Eversource");utilityArray=f.without(utilityArray,""),utilityArray=f.without(utilityArray,"none"),utilityArray=f.uniq(utilityArray);var l=f.without(utilityArray,"Not Applicable");a.modalDialog=l,a.user={roles:["user"]},a.sbmit=function(){$("#myModal").modal("hide"),c.p_utility=f.pluck(c.incentiveData,"participatingUtility"),j()}}else 0==d.length&&(console.log("hello empty data"),a.tableData3="")}}}]).filter("zipcodeFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){void 0==b.incentiveProgram&&void 0==b.incentiveCategory&&c.push(a),b.incentiveProgram==a.incentiveProgram&&void 0==b.incentiveCategory?c.push(a):b.incentiveCategory==a.incentiveCategory&&void 0==b.incentiveProgram?c.push(a):b.incentiveCategory==a.incentiveCategory&&b.incentiveProgram==a.incentiveProgram&&c.push(a)}),c}}),angular.module("eeaDoerApp").controller("GlosCtrl",["$scope",function(a){$("#footer").css("position","relative"),console.log("something fired"),a.data=[{text:'<ul ><li><b><em class="title">Biomass</em> :</b> in the context of energy, often used to describe plant based material.</li></ul>'},{text:'<ul><li><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=biofuel_home">Biomass</a></em><b>:</b>transportation fuels like <a href="http://www.eia.gov/energyexplained/index.cfm?page=biofuel_ethanol_home">ethabol</a>&nbsp;and <a href="http://www.eia.gov/energyexplained/index.cfm?page=biofuel_biodiesel_home">biodiesel</a>&nbsp;that are made from biomass materials. These fuels are usually blended with petroleum fuels (gasoline and diesel fuel), but they can also be used on their own. Using ethanol or biodiesel means less gasoline and diesel fuel is burned, which can reduce the amount of crude oil imported from other countries. Ethanol and biodiesel are also cleaner-burning fuels than pure gasoline and diesel fuel.</li></ul>'},{text:'<ul><li><b><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=about_btu">(British Thermal Unit)BTU</a></em> :</b> a measure of the heat content of fuels. It is the quantity of heat required to raise the temperature of 1 pound of liquid water by 1 degree Fahrenheit at the temperature that water has its greatest density (approximately 39 degrees Fahrenheit).</li> </ul>'},{text:'<ul><li><b><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=electricity_home">Electricity</a></em> :</b> a secondary energy source, also referred to as an energy carrier. That means that customers get electricity from the conversion of other sources of energy, such as coal, natural gas, nuclear, solar, or wind energy. These sources of energy are called primary energy sources. The energy sources used to make electricity can be renewable or nonrenewable, but electricity itself is not renewable or nonrenewable.</li> </ul>'},{text:'<ul ><li><b><em class="title">Geothermal</em> :</b> heat (thermal) derived from the Earth (geo) that can be harnessed to heat homes</li></ul>'},{text:'<ul ><li><b><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=geothermal_heat_pumps">Geothermal Heat Pumps</a></em> :</b> this technology uses the earth is constant temperatures to heat and cool buildings. Geothermal heat pumps transfer heat from the ground (or water) into buildings during the winter and reverse the process in the summer.</li> '},{text:'<ul ><li><b><em class="title">Fuel Cell</em> :</b> an electrochemical generator that produces a continuous electric current directly from the chemical reaction between Oxygen and Hydrogen. </li></ul>'},{text:'<ul ><li><b><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=heating_oil_home">Heating Oil</a></em> :</b> a petroleum product used by many Americans, especially in the Northeast, to heat their homes. At refineries, crude oil is processed into different fuels including gasoline, heating oil and diesel fuel, jet fuel/kerosene, and lubricating oil.</li></ul>'},{text:'<ul ><li><b><em class="title">Hydroelectric</em> :</b> the generation of power derived from the energy of falling water or any other hydraulic source.</li></ul>'},{text:'<ul ><li><b><em class="title">HVAC</em> :</b> an acronym for Heating, Ventilation, and Air Conditioning. This system is used to provide heating and cooling services to buildings. This all-inclusive system has become the industrial standard for construction of new buildings. </li></ul>'},{text:'<ul ><li><b><em class="title">Insulation</em> :</b> a material that prevents the transmission of heat, electricity, moisture, sound, and shock from one medium to another.</li></ul>'},{text:'<ul ><li><b><em class="title">Natural Gas </em> :</b> a fossil fuel that is formed when layers of buried plants and gases and are exposed. </li></ul>'},{text:'<ul ><li><b><em class="title">Organics</em> :</b> a method for generating electric power by the use of solar cells to convert energy from the sun into a flow of electrons.</li></ul>'},{text:'<ul ><li><b><em class="title"><a href="http://www.eia.gov/energyexplained/index.cfm?page=propane_home">Propane</a></em> : </b>an energy-rich gas, C3H8. It is one of the liquefied petroleum gases (LP-gases or LPGs) that are found mixed with natural gas and oil used to heat homes and cook similar to natural gas but delivered like heating oil.</li></ul>'},{text:'<ul ><li><b><em class="title">Solar Energy </em> :</b> relates to the sun emitting light. Solar utilizes the sunâ€™s energy to produce heat or electricity.</li></ul>'},{text:'<ul ><li><b><em class="title">Wind Energy </em> :</b> power derived from wind; used to generate mechanical or electrical power.</li></ul>'},{text:'<ul ><li><b><em class="title">Wood </em> :</b>arises from many sources including forests, co-products from wood processing, processed wood-based fuels and post-consumer recovered wood.</li></ul>'}]}]).filter("highlight",["$sce",function(a){return function(b,c){return c&&(b=b.replace(new RegExp("("+c+")","gi"),'<span class="highlighted">$1</span>')),a.trustAsHtml(b)}}]),angular.module("eeaDoerApp").controller("FaqCtrl",["$scope","$window",function(a,b){console.log("something fired"),a.something=[];var c=b.matchMedia("(min-height:10px) and (max-height: 1035px )");c.matches?$("#footer").css("position","relative"):$("#footer").css("position","fixed")}]),angular.module("eeaDoerApp").controller("AboutCtrl",["$scope",function(a){console.log("something fired"),a.something=[],$("#footer").css("position","relative")}]),angular.module("eeaDoerApp").controller("CtctCtrl",["$scope","$window",function(a,b){console.log("something fired in contact"),a.something=[];var c=b.matchMedia("(min-height: 450px) and (max-height: 1200px )");c.matches?$("#footer").css("position","fixed"):$("#footer").css("position","relative")}]),angular.module("eeaDoerApp").filter("typeFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){b.renewables===!1&&b.efficiency===!1?c.push(a):b.renewables===!0&&b.efficiency===!1&&"renewables"===a.incentiveType?c.push(a):b.efficiency===!0&&b.renewables===!1&&"efficiency"===a.incentiveType&&c.push(a)}),c}}),angular.module("eeaDoerApp").filter("categoryFilter",function(){return function(a,b){var c=[];return angular.forEach(a,function(a){b.appliances===!1&&b.construction===!1?c.push(a):b.appliances===!0&&b.construction===!1&&"appliances"===a.category?c.push(a):b.construction===!0&&b.appliances===!1&&"construction"===a.category&&c.push(a)}),c}});